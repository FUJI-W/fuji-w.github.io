
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="fuji">
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../../image_processing/">
      
      <link rel="icon" href="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305130239130.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.19">
    
    
      
        <title>「计算机视觉」双目视觉 - FUJI's Mind Palace</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans SC";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="FUJI&#39;s Mind Palace" class="md-header__button md-logo" aria-label="FUJI's Mind Palace" data-md-component="logo">
      
  <img src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305130236896.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FUJI's Mind Palace
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              「计算机视觉」双目视觉
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      HOME
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../CS/basic/summary/" class="md-tabs__link">
        CS
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../ML/basic_paradigm/" class="md-tabs__link">
        ML
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../CG/basic/" class="md-tabs__link">
        CG
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        CV
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../algo/" class="md-tabs__link">
        ALGO
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../code/cpp/" class="md-tabs__link">
        CODE
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../record/inv_fastoct/" class="md-tabs__link">
        RECORD
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../note/paper/" class="md-tabs__link">
        NOTE
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="FUJI&#39;s Mind Palace" class="md-nav__button md-logo" aria-label="FUJI's Mind Palace" data-md-component="logo">
      
  <img src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305130236896.svg" alt="logo">

    </a>
    FUJI's Mind Palace
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        HOME
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          CS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          CS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../CS/basic/summary/">计算机基础</a>
          
            <label for="__nav_2_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          计算机基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/basic/cs/" class="md-nav__link">
        计算机组成原理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/basic/os/" class="md-nav__link">
        操作系统
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/basic/cn/" class="md-nav__link">
        计算机网络
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/software/oo/" class="md-nav__link">
        面向对象
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/software/software/" class="md-nav__link">
        软件工程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/basic/summary/01_basic_summary/" class="md-nav__link">
        计算机基础总结
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../CS/others/">其他内容</a>
          
            <label for="__nav_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          其他内容
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/others/matlab/" class="md-nav__link">
        matlab课程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CS/others/mathematical_modeling/" class="md-nav__link">
        数学建模课程
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          ML
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          ML
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../ML/basic_paradigm/">基本学习范式</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          基本学习范式
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../ML/course_whiteboard/">白板推导课程</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          白板推导课程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ML/course_whiteboard/00_hmm/" class="md-nav__link">
        隐马尔可夫链
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          CG
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          CG
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../CG/basic/">基础</a>
          
            <label for="__nav_4_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CG/basic/matrix/" class="md-nav__link">
        矩阵变换
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../CG/rendering/">渲染</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          渲染
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CG/rendering/basic/" class="md-nav__link">
        实时渲染基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../CG/rendering/IBL/" class="md-nav__link">
        基于图像的照明
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          CV
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          CV
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">三维视觉</a>
          
            <label for="__nav_5_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          三维视觉
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          双目成像相关原理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        双目成像相关原理
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    基本原理
  </a>
  
    <nav class="md-nav" aria-label="基本原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    双目深度相机基本原理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    双目深度相机基本流程
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    详细原理
  </a>
  
    <nav class="md-nav" aria-label="详细原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    理想双目相机模型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    极线约束定理
  </a>
  
    <nav class="md-nav" aria-label="极线约束定理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    极平面与极线
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    极线约束定理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    极线的获取
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    图像矫正
  </a>
  
    <nav class="md-nav" aria-label="图像矫正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    非理想情况
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    图像矫正
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    相机标定
  </a>
  
    <nav class="md-nav" aria-label="相机标定">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    相关坐标系
  </a>
  
    <nav class="md-nav" aria-label="相关坐标系">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    像素坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    图像坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    相机坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    世界坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    坐标系转换公式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    相机的畸变系数
  </a>
  
    <nav class="md-nav" aria-label="相机的畸变系数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    径向畸变
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    切向畸变
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    畸变参数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    张正友标定法
  </a>
  
    <nav class="md-nav" aria-label="张正友标定法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#h" class="md-nav__link">
    计算单应性矩阵 H
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    计算内参数矩阵
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    极大似然估计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    径向畸变估计
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    双目相机的标定
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    图像匹配
  </a>
  
    <nav class="md-nav" aria-label="图像匹配">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-2-3-4-p-q-q-p" class="md-nav__link">
    立体匹配的基本约束条件 (1) 极线约束。 极线约束是最常用的约束条件。 极线约束是指在左图像中的一点，它在右图像上的 对应匹配点必定在某一条直线上，这条直线就是极线 。使用极线约束就可以让图像的搜索范围由二维下降至一维，只需要在一条直线上进行搜索，这就可以大大减少搜索的复杂度，并提高了匹配的精度。 (2) 相似性约束。 在进行立体匹配时，点、线、块等元素一定具有相同或相似的属性。 (3) 唯一性约束。 对于待匹配图像，在原图像中至多对应一个点。一幅图像上的每个点只能与另一幅 图像上的唯一一个点一一对应，这样 图像上的点至多有一个视差值 。 (4) 左右一致性约束。 若左图像上的一点 P，其在右图像上的对应点为 Q，则右图像上的点 Q 在左图像上的对应点应该是点 P，如果这两点不是一一对应的，则匹配会不满足唯一性条件，说明匹配失败。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    基于能量优化的图像匹配
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    参考文献
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../image_processing/">图像处理</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          图像处理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          ALGO
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          ALGO
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../algo/">你好算法</a>
          
            <label for="__nav_6_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          你好算法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../algo/01_master_exam/" class="md-nav__link">
        机试笔记
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          CODE
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          CODE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../code/cpp/">C++</a>
          
            <label for="__nav_7_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../code/cpp/01_basic/" class="md-nav__link">
        网课笔记01
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../code/cpp/02_advance/" class="md-nav__link">
        网课笔记02
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          RECORD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          RECORD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../record/inv_fastoct/">基于稀疏体素八叉树的室内场景神经逆渲染研究</a>
          
            <label for="__nav_8_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8_1">
          <span class="md-nav__icon md-icon"></span>
          基于稀疏体素八叉树的室内场景神经逆渲染研究
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/00_code_record/" class="md-nav__link">
        编程记录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/01_RTE.md" class="md-nav__link">
        体渲染
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/01_vol_renderer.md" class="md-nav__link">
        NeRF体渲染
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/02_diff_vol_renderer.md" class="md-nav__link">
        可微体渲染
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/02_diff_vol_renderer_exper.md" class="md-nav__link">
        可微体渲染的实现
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/01_format_trans/" class="md-nav__link">
        坐标系定义0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/01_ft01_i2p/" class="md-nav__link">
        坐标系定义1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../record/inv_fastoct/01_ft02_p2v/" class="md-nav__link">
        坐标系定义2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          NOTE
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          NOTE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../note/paper/">论文笔记</a>
          
            <label for="__nav_9_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_1">
          <span class="md-nav__icon md-icon"></span>
          论文笔记
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../note/paper/SIGGRAPH2022_dual_ocnn/" class="md-nav__link">
        (2022 SIGGRAPH) dual ocnn
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    基本原理
  </a>
  
    <nav class="md-nav" aria-label="基本原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    双目深度相机基本原理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    双目深度相机基本流程
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    详细原理
  </a>
  
    <nav class="md-nav" aria-label="详细原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    理想双目相机模型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    极线约束定理
  </a>
  
    <nav class="md-nav" aria-label="极线约束定理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    极平面与极线
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    极线约束定理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    极线的获取
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    图像矫正
  </a>
  
    <nav class="md-nav" aria-label="图像矫正">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    非理想情况
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    图像矫正
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    相机标定
  </a>
  
    <nav class="md-nav" aria-label="相机标定">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    相关坐标系
  </a>
  
    <nav class="md-nav" aria-label="相关坐标系">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    像素坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    图像坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    相机坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    世界坐标系
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    坐标系转换公式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    相机的畸变系数
  </a>
  
    <nav class="md-nav" aria-label="相机的畸变系数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    径向畸变
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    切向畸变
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    畸变参数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    张正友标定法
  </a>
  
    <nav class="md-nav" aria-label="张正友标定法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#h" class="md-nav__link">
    计算单应性矩阵 H
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    计算内参数矩阵
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    极大似然估计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    径向畸变估计
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    双目相机的标定
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    图像匹配
  </a>
  
    <nav class="md-nav" aria-label="图像匹配">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-2-3-4-p-q-q-p" class="md-nav__link">
    立体匹配的基本约束条件 (1) 极线约束。 极线约束是最常用的约束条件。 极线约束是指在左图像中的一点，它在右图像上的 对应匹配点必定在某一条直线上，这条直线就是极线 。使用极线约束就可以让图像的搜索范围由二维下降至一维，只需要在一条直线上进行搜索，这就可以大大减少搜索的复杂度，并提高了匹配的精度。 (2) 相似性约束。 在进行立体匹配时，点、线、块等元素一定具有相同或相似的属性。 (3) 唯一性约束。 对于待匹配图像，在原图像中至多对应一个点。一幅图像上的每个点只能与另一幅 图像上的唯一一个点一一对应，这样 图像上的点至多有一个视差值 。 (4) 左右一致性约束。 若左图像上的一点 P，其在右图像上的对应点为 Q，则右图像上的点 Q 在左图像上的对应点应该是点 P，如果这两点不是一一对应的，则匹配会不满足唯一性条件，说明匹配失败。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    基于能量优化的图像匹配
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    参考文献
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>双目成像相关原理</h1>

<h2 id="_1">基本原理<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="_2">双目深度相机基本原理<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>下图从物理原理上展示了为什么单目相机不能测量深度值而双目可以。我们看到红色线条上三个不同远近的黑色的点在下方相机上投影在同一个位置，因此单目相机无法分辨成的像到底是远的那个点还是近的那个点，但是它们在上方相机的投影却位于三个不同位置，因此通过两个相机的观察可以确定到底是哪一个点。</p>
<p><img alt="img" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112315914.png" /></p>
<h3 id="_3">双目深度相机基本流程<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>首先需要对双目相机进行标定，得到两个相机的内外参数、单应矩阵；</p>
</li>
<li>
<p>根据标定结果对原始图像校正，校正后的两张图像位于同一平面且互相平行；</p>
</li>
<li>对校正后的两张图像进行像素点匹配；</li>
<li>根据匹配结果计算每个像素的深度，从而获得深度图。</li>
</ol>
<hr />
<h2 id="_4">详细原理<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<h3 id="_5">理想双目相机模型<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>理想模型：① 左右两个相机位于同一平面（光轴平行）；② 左右相机参数（如焦距 <span class="arithmatex">\(f\)</span> 等）一致。推导如下图所示。</p>
<p><img alt="img" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112315568.jpeg" /></p>
<p>根据以上推导，得到三维空间中一点 <span class="arithmatex">\(P\)</span> 的深度为 <span class="arithmatex">\(z=f*b/d\)</span> ，可以发现如果要计算深度 <span class="arithmatex">\(z\)</span>，必须要知道：</p>
<ol>
<li>相机焦距 <span class="arithmatex">\(f\)</span> 和 左右相机基线 <span class="arithmatex">\(b\)</span>  —— 可通过先验信息或相机标定得到；</li>
<li><strong>视差 <span class="arithmatex">\(d\)</span></strong> —— 需要知道左相机的任一像素点 <span class="arithmatex">\((xl, yl)\)</span> 和右相机中对应点 <span class="arithmatex">\((xr, yr)\)</span> 的对应关系。</li>
</ol>
<hr />
<h3 id="_6">极线约束定理<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>问：对于左图中的一个像素点，如何确定该点在右图中的位置？是不是需要我们在整个图像中地毯式搜索一个个匹配？</p>
<p>答：不需要。根据 <strong>极线约束</strong> ，可以极大地缩小匹配范围。</p>
<h4 id="_7">极平面与极线<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<p>如下图所示，C1，C2是两个相机，P是空间中的一个点，P和两个相机中心点C1、C2形成了三维空间中的一个平面PC1C2，称为 <strong>极平面</strong> （Epipolar plane）。极平面和两幅图像相交于两条直线，这两条直线称为 <strong>极线</strong> （Epipolar line）。</p>
<p><img alt="img" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112316105.jpeg" /></p>
<h4 id="_8">极线约束定理<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<p>如上图所示，假设P在相机C1中的成像点是P1，在相机C2中的成像点是P2，但是P的位置事先是未知的。对于左图的P1点，我们希望找到它在右图中对应的P2点。 <strong>极线约束（Epipolar Constraint）</strong> 是指： <strong>当同一个空间点P在两幅图像上分别成像时，已知左图投影点P1，那么对应右图投影点P2一定在相对于P1点的极线上</strong> 。根据极线约束的规律，我们只需要沿着极线搜索就一定可以找到和P1的对应点P2。</p>
<h4 id="_9">极线的获取<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<p>已知P1点，可以确定平面P1C1C2，易知该平面与极平面PC1C2重合；计算平面P1C1C2与右相机图像的交线，即为相对于P1的极线。</p>
<hr />
<h3 id="_10">图像矫正<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<h4 id="_11">非理想情况<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<p>上述过程考虑的情况（两相机共面且光轴平行、参数相同）非常理想，但如果相机C1，C2不是在同一直线上怎么办？事实上，这种情况非常常见，因为有些场景下两个相机需要独立固定，很难保证光心C1，C2完全水平，即使是固定在同一个基板上也会因为装配的原因导致光心不完全水平。如下图a所示，当两个相机的极线不平行且不共面时，根据理想模型推导的公式不能直接使用。而且在非理想的情况下，如下图b中的所示，左图中任一点对应到右图的极线为斜线，此时逐点搜索的效率非常低。</p>
<table>
<thead>
<tr>
<th align="center">图a：非理想情况相机模型示意图</th>
<th align="center">图b：左图中三个点（十字标志）在右图中对应的极线是右图中的三条白色直线</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><img alt="img" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112316858.jpeg" /></td>
<td align="center"><img alt="img" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112316215.jpeg" /></td>
</tr>
</tbody>
</table>
<h4 id="_12">图像矫正<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p>对于非理想情况下（也即一般情况下），我们需要通过 <strong>图像矫正（Image Rectification）</strong> 将图像转化为理想模型。图像矫正是通过分别对两张图片用 <strong>单应矩阵（homography matrix）</strong> 变换（可以通过 <strong>标定</strong> 获得）得到的，目的就是把两个不同方向的图像平面（图a中灰色平面）重新投影到同一个平面且光轴互相平行（图a中黄色平面），两个相机的极线也变成水平的。如图b所示，我们可以看到三个点对应的视差是不同的，越远的物体视差越小，越近的物体视差越大，这和我们的常识是一致的。</p>
<table>
<thead>
<tr>
<th align="center">图a：图像矫正示意图</th>
<th align="center">图b：图像矫正后的结果示意图；红色双箭头线段是对应点的视差</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><img alt="img" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112316297.jpeg" /></td>
<td align="center"><img alt="img" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112316136.jpeg" /></td>
</tr>
</tbody>
</table>
<hr />
<h3 id="_13">相机标定<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<h4 id="_14">相关坐标系<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>物体的三维信息都是通过二维图像推导而来的。要想明确物体在三维空间的具体位置，除了图像的信息，还需知道相机的具体参数。 <strong>相机参数的确定过程</strong> 就叫做 <strong>相机的标定</strong> 。在双目视觉系统中，除了 <strong>对每个相机进行标定外</strong> ， <strong>还需要知道相机间的相互关系以及相机与待测物体的坐标关系</strong> ，这一过程叫做 <strong>系统的标定</strong> 。</p>
<p>从图像上的物体到三维空间上的物体的映射过程实际上是坐标系的变换。 <strong>图像</strong> 上的某一点，经过物理关系的转换可以得到现实的物理坐标，然后将图像平面映射成 <strong>相机坐标系</strong> 的某一平面，得到该点在相机坐标系的坐标，最后通过相机坐标系与 <strong>世界坐标系</strong> 的旋转平移变换就可以确定该点的实际三维坐标了。所以要想确定点的三维坐标，首先要了解这四个坐标系。</p>
<p><img alt="640-5.png" src="https://cdn.jsdelivr.net/gh/SnowOnVolcano/imagebed/202305112316852.png" /></p>
<h5 id="_15">像素坐标系<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h5>
<p>在数字图像中，一幅图像就是一个 <span class="arithmatex">\(M\)</span> 行 <span class="arithmatex">\(N\)</span> 列的数组，数组中的每个数值就是该点的亮度。在图像的左上角建立直角坐标系 <span class="arithmatex">\(u\)</span>、<span class="arithmatex">\(v\)</span>， 每一像素的坐标 <span class="arithmatex">\((u, v)\)</span> 就是该像素在数组中的行和列。以像素作为单位的坐标系就叫做像素坐标系。</p>
<h5 id="_16">图像坐标系<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h5>
<p>要想知道物体在三维空间的具体位置，就需要建立与实际物理单位相关的坐标系，这样的坐标系叫做图像坐标系，该坐标系以图像内某一点作为坐标原点，其 <span class="arithmatex">\(x\)</span> 轴和 <span class="arithmatex">\(y\)</span> 轴分别与像素坐标系的 <span class="arithmatex">\(u\)</span> 轴，<span class="arithmatex">\(v\)</span> 轴平行。图像上任意一个像素在两个坐标系的映射关系为： </p>
<div class="arithmatex">\[
\begin{cases}
u=\frac{x}{dx}+u_0 \\
v=\frac{y}{dy}+v_0
\end{cases}
\]</div>
<p>其中， <strong>单个像素在 <span class="arithmatex">\(x\)</span> 轴和 <span class="arithmatex">\(y\)</span> 轴的实际物理距离为 <span class="arithmatex">\(dx\)</span> 和 <span class="arithmatex">\(dy\)</span></strong> ，将上式转换成齐次方程式为：</p>
<div class="arithmatex">\[
\left[
\begin{matrix}
    u \\ v \\ 1
\end{matrix}
\right]
=
\left[
\begin{matrix}
    \frac{1}{dx} &amp; 0 &amp; u_0 \\
    0 &amp; \frac{1}{dy} &amp; v_0 \\
    0 &amp; 0 &amp; 1
\end{matrix}
\right]
\left[
\begin{matrix}
    x \\ y \\ 1
\end{matrix}
\right]
\]</div>
<h5 id="_17">相机坐标系<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h5>
<p>图像坐标系虽建立起图像与现实世界的物理关系，但这只是二维关系，因此，需要建立与三维世界相关的相机坐标系。图像坐标系是相机坐标系的某一平面，相机坐标系的 <strong><span class="arithmatex">\(x\)</span> 轴和 <span class="arithmatex">\(y\)</span> 轴与图像坐标系对应轴平行</strong> ， <strong>两个坐标系间的距离就是相机的焦距 <span class="arithmatex">\(f\)</span></strong> 。其 <strong>以相机光心为坐标原点</strong> ， <strong>光轴为 <span class="arithmatex">\(z\)</span> 轴</strong> ，可以用 <span class="arithmatex">\((𝑋c, 𝑌c, 𝑍c )\)</span> 来表示。</p>
<h5 id="_18">世界坐标系<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h5>
<p>相机坐标系是以相机为中心的描述现实世界的三维坐标系。在现实空间中，存在无数坐标系可以描述三维空间，为了确定三维空间点的具体位置，需要确定唯一一个基准坐标系来表述空间，这就是世界坐标系，用(𝑋w, 𝑌w, 𝑍w)来表示。</p>
<div class="arithmatex">\[
\left[
\begin{matrix}
    X_c \\ Y_c \\ Z_c \\ 1
\end{matrix}
\right]
=
\left[
\begin{matrix}
    \mathbf{R} &amp; \mathbf{t} \\
    \mathbf{0}^T &amp; 1
\end{matrix}
\right]
\left[
\begin{matrix}
    X_w \\ Y_w \\ Z_w \\ 1
\end{matrix}
\right]
\]</div>
<p>其中， <strong>R 为 3×3 单位正交矩阵，表示了坐标系的旋转操作；t 为三维平移向量，代表了坐标系的平移操作；0 表示三维零向量</strong> 。</p>
<h5 id="_19">坐标系转换公式<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h5>
<div class="arithmatex">\[
\begin{aligned}
s\left[ \begin{matrix} u \\ v \\ 1 \end{matrix} \right]
&amp; = 
\left[ \begin{matrix} 
\frac{1}{dx} &amp; 0 &amp; u_0 \\
0 &amp; \frac{1}{dy} &amp; v_0 \\
0 &amp; 0 &amp; 1
\end{matrix} \right]
\left[ \begin{matrix} 
f &amp; 0 &amp; 0 &amp; 0 \\ 
0 &amp; f &amp; 0 &amp; 0 \\ 
0 &amp; 0 &amp; 1 &amp; 0
\end{matrix} \right]
\left[ \begin{matrix} 
\mathbf{R} &amp; \mathbf{t} \\ 
\mathbf{0}^T &amp; 1 
\end{matrix} \right]
\left[ \begin{matrix} 
X_w \\ Y_w \\ Z_w \\ 1 
\end{matrix} \right]
\\
&amp; = 
\left[ \begin{matrix} 
\alpha &amp; \gamma &amp; u_0 &amp; 0 \\
0 &amp; \beta &amp; v_0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
\end{matrix} \right]
\left[ \begin{matrix} 
\mathbf{R} &amp; \mathbf{t} \\ 
\mathbf{0}^T &amp; 1 
\end{matrix} \right]
\left[ \begin{matrix} 
X_w \\ Y_w \\ Z_w \\ 1 
\end{matrix} \right] \\
&amp;=
K\left[R,\mathbf{T}\right]X
\end{aligned}
\]</div>
<p>其中 <strong><span class="arithmatex">\(s\)</span> 为尺度因子，<span class="arithmatex">\(K\)</span> 为摄像机内参数，<span class="arithmatex">\(R\)</span> 为旋转矩阵，<span class="arithmatex">\(T\)</span> 为平移向量</strong>  。</p>
<h4 id="_20">相机的畸变系数<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h4>
<p>上述的线性模型并不能准确描述物体与图像的对应关系，这是因为 <strong>光学镜头具有透视失真，会导致图像发生偏差，这是镜头的固有属性无法消除。</strong> 为了减少图像偏差，需要明确镜头的畸变系数，对图像进行校正。常见的畸变主要有 <strong>径向畸变</strong> 和 <strong>切向畸变</strong> 。</p>
<h5 id="_21">径向畸变<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h5>
<p>径向畸变是指图像像素以畸变中心为原点，沿着径向产生位置偏差，从而导致图像形变。其常用畸变原点周围的泰勒展开式的前两项 <span class="arithmatex">\(k1\)</span> 和 <span class="arithmatex">\(k2\)</span> 来表示，如果畸变较大，还可以增加使用第三项 <span class="arithmatex">\(k3\)</span> 来描述，常用的描述公式为： </p>
<div class="arithmatex">\[
\begin{cases}
x_0=x(1+k_1r^2+k_2r^4+k_3r^6) \\
y_0=y(1+k_1r^2+k_2r^4+k_3r^6) 
\end{cases}
\]</div>
<p>其中，<span class="arithmatex">\((x, y)\)</span> 是校正后像素点的位置；<span class="arithmatex">\((𝑥_0, 𝑦_0)\)</span> 是原图上的像素点位置；<span class="arithmatex">\(r\)</span> 是径向距离。</p>
<h5 id="_22">切向畸变<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h5>
<p>切向畸变是由于在安装时，产生安装偏差，使镜头不完全平行于镜头平面而造成的畸变，其可以使用 <span class="arithmatex">\(p_1\)</span> 和 <span class="arithmatex">\(p_2\)</span> 两个参数来描述：</p>
<div class="arithmatex">\[
\begin{cases}
x_0=x+[2p_1xy+p_2(r^2+2x^2)] \\
y_0=y+[2p_2xy+p_1(r^2+2y^2)] 
\end{cases}
\]</div>
<h5 id="_23">畸变参数<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h5>
<p>要消除镜头畸变，就是要同时消除径向畸变和切向畸变，所以要知道以下 5 个畸变参数的值：</p>
<p>$$
\text{Distortion Coefficients} = (k_1,k_2,p_1,p_2,k_3)
$$ <strong>这 5 个参数可以在相机标定的过程中得到。明确这 <u>5 个畸变系数</u> 以及 <u>相机的内外参数</u>， 就可以完成相机的标定了。</strong> #### 相机标定的分类</p>
<p>相机的标定是 <strong>根据像素坐标系与世界坐标系的关系，利用一定的约束条件，来求解相机的内外参数以及畸变系数的过程。</strong> 相机标定方法可分为两种，第一种是 <strong>需要参照物</strong> 的传统标定方法；另一种则是 <strong>不需参照物</strong> 的相机自标定法。</p>
<p>传统的标定方法一般以棋盘格作为参照物，其中每个棋盘格的大小，尺寸以及棋盘格的数量都是已知的。标定过程就是， <strong>将棋盘格的顶点与图像上的对应点建立对应关系，利用棋盘格的已知信息来求得相机模型的内外参数和畸变系数。</strong> 这种标定方法通常有张正友标定法和 Tasi 两步标定法等。这种方法容易受到标定物的制作精度的影响，但 <strong>精度仍比另一种方法高</strong> 。</p>
<p>相机自标定法是不需要参照物的，通常有 <strong>基于 Kruppa 方程的标定法</strong> 等。其根据多视图约束几何方程，在不同位置采集多幅同场景的图像，通过相机的约束信息以及对 应点的几何信息来完成相机参数的计算。其最大优点就是不需要制作标定参考物，比较灵活；但由于缺少标定物，鲁棒性和精度都有所欠缺。</p>
<h4 id="_24">张正友标定法<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h4>
<p>”张正友标定”是指张正友教授1998年提出的单平面棋盘格的摄像机标定方法。文中提出的方法介于传统标定法和自标定法之间，但克服了传统标定法需要的高精度标定物的缺点，而仅需使用一个打印出来的棋盘格就可以。同时也相对于自标定而言，提高了精度，便于操作。因此张氏标定法被广泛应用于计算机视觉方面。</p>
<p>张正友标定法的基本步骤是：</p>
<ol>
<li>在不同角度下，对标定参考物（棋盘格）进行拍摄；</li>
<li>然后提取出棋盘格的顶点；</li>
<li>接着解析出相机的畸变系数和内外参数；</li>
<li>最后再根据极大似然估计，对参数进行优化。</li>
</ol>
<h5 id="h">计算单应性矩阵 H<a class="headerlink" href="#h" title="Permanent link">&para;</a></h5>
<p>根据前文推出的坐标转换公式可知，设三维世界坐标的点为<span class="arithmatex">\(X=[X,Y,Z,1]^T\)</span>，二维相机平面像素坐标为<span class="arithmatex">\(=M[u,v,1]^T\)</span>，所以标定用的棋盘格平面到图像平面的单应性关系为：</p>
<div class="arithmatex">\[
sM=K[R,T]X
\]</div>
<p>其中 <strong><span class="arithmatex">\(s\)</span> 为尺度因子，<span class="arithmatex">\(K\)</span> 为摄像机内参数，<span class="arithmatex">\(R\)</span> 为旋转矩阵，<span class="arithmatex">\(T\)</span> 为平移向量</strong>  。令</p>
<div class="arithmatex">\[
K=\left[
\begin{matrix}
\alpha &amp; \gamma &amp; u_0 \\
0 &amp; \beta &amp; v_0 \\
0 &amp; 0 &amp; 1
\end{matrix}
\right]。
\]</div>
<p>注意，<span class="arithmatex">\(s\)</span> 对于齐次坐标来说，不会改变齐次坐标值。张氏标定法中，将世界坐标系定义在棋盘格平面上，令棋盘格平面为 <span class="arithmatex">\(Z=0\)</span> 的平面。则可得</p>
<div class="arithmatex">\[
s\left[\begin{matrix}u \\ v \\ 1 \end{matrix}\right] 
= K\left[\begin{matrix}\mathbf{r_1} &amp; \mathbf{r_2} &amp; \mathbf{r_3} &amp; \mathbf{t} \end{matrix}\right]\left[\begin{matrix}x \\ y \\ 0 \\ 1 \end{matrix}\right]
= K\left[\begin{matrix}\mathbf{r_1} &amp; \mathbf{r_2} &amp; \mathbf{t} \end{matrix}\right]\left[\begin{matrix}x \\ y \\ 1 \end{matrix}\right]
\]</div>
<p>我们把 <span class="arithmatex">\(K[r1,\ r2,\ t]\)</span> 叫做 <strong>单应性矩阵 H</strong> ，即</p>
<div class="arithmatex">\[
H=[h_1\ h_2\ h_3] = \lambda K[r_1\ r_2\ t]
\]</div>
<p><span class="arithmatex">\(H\)</span> 是一个齐次矩阵，所以有8个未知数，至少需要8个方程，每对对应点能提供两个方程，所以至少需要四个对应点，就可以算出世界平面到图像平面的单应性矩阵 <span class="arithmatex">\(H\)</span>。</p>
<h5 id="_25">计算内参数矩阵<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h5>
<p>由上式可得</p>
<div class="arithmatex">\[
\lambda = \frac{1}{s} \\
r_1=\frac{1}{\lambda}K^{-1}h_1   \\
r_2=\frac{1}{\lambda}K^{-1}h_2
\]</div>
<p>由于旋转矩阵是个酉矩阵，<span class="arithmatex">\(r_1\)</span> 和 <span class="arithmatex">\(r_2\)</span> 正交，可得  <strong>约束条件</strong>  ：</p>
<div class="arithmatex">\[
\begin{aligned}
r_1^Tr_2=0 &amp; \iff h_1^TK^{-T}K^{-1}h_2=0\\
||r_1||=||r_2||=1 &amp; \iff h_1^TK^{-T}K^{-1}h_1 = h_2^TK^{-T}K^{-1}h_2
\end{aligned}
\]</div>
<p>即 <strong>每个单应性矩阵能提供两个方程，而内参数矩阵包含5个参数，要求解，至少需要3个单应性矩阵</strong> 。为了得到三个不同的单应性矩阵，我们使用至少三幅棋盘格平面的图片进行标定，通过改变相机与标定板之间的相对位置来得到三个不同的图片。</p>
<p>为了方便计算，定义如下：</p>
<div class="arithmatex">\[
B=K^{-T}K^{-1}=
\left[
\begin{array}{ccc}
B_{11} &amp; B_{12} &amp; B_{13} \\
B_{21} &amp; B_{22} &amp; B_{23} \\
B_{31} &amp; B_{32} &amp; B_{33}
\end{array}
\right]=
\left[
\begin{array}{ccc}
\frac{1}{\alpha^2} &amp; -\frac{\gamma}{\alpha^2\beta} &amp; \frac{v_0\gamma-u_0\beta}{\alpha^2\beta} \\
-\frac{\gamma}{\alpha^2\beta} &amp; \frac{\gamma^2}{\alpha^2\beta^2}+\frac{1}{\beta^2} &amp; -\frac{\gamma(v_0\gamma-u_0\beta)}{\alpha^2\beta^2}-\frac{v_0}{\beta^2} \\
\frac{v_0\gamma-u_0\beta}{\alpha^2\beta} &amp; -\frac{\gamma(v_0\gamma-u_0\beta)}{\alpha^2\beta^2}-\frac{v_0}{\beta^2} &amp; \frac{(v_0\gamma-u_0\beta)^2}{\alpha^2\beta^2}+\frac{v_0}{\beta^2}+1
\end{array}
\right]
\]</div>
<p>可以看到，<span class="arithmatex">\(B\)</span> 是一个对称阵，所以 <span class="arithmatex">\(B\)</span> 的有效元素为六个，让这六个元素写成向量 <span class="arithmatex">\(\mathbf{b}\)</span>，即</p>
<div class="arithmatex">\[
\mathbf{b}=\left[ \begin{array}{cccccc} B_{11} &amp; B_{12} &amp; B_{22} &amp; B_{13} &amp; B_{23} &amp; B_{33} \end{array} \right]^T
\]</div>
<p>可以推导得到（引入了 <span class="arithmatex">\(v_{ij}\)</span> 项作化简）：</p>
<div class="arithmatex">\[
h_i^TBh_j = v^T_{ij} \mathbf{b} \\
v_{ij}=\left[ \begin{array}{cccccc} h_{i1}h_{j1} &amp; h_{i1}h_{j2}+h_{i2}h_{j1} &amp; h_{i2}h_{j2} &amp; h_{i3}h_{j1}+h_{i1}h_{j3} &amp; h_{i3}h_{j2}+h_{i2}h_{j3} &amp; h_{i3}h_{j3} \end{array} \right]^T
\]</div>
<p>利用  <strong>约束条件</strong>  可以得到：</p>
<p>$$
\left[ \begin{array}{c} v^T_{12} \ (v_{11}-v_{22})^T \end{array} \right] \mathbf{b}=0
$$ <strong>通过上式，我们至少需要三幅包含棋盘格的图像，可以计算得到 <span class="arithmatex">\(B\)</span></strong> ，然后通过 <strong>Cholesky分解</strong> ， <strong>得到相机的内参数矩阵 <span class="arithmatex">\(K\)</span> 。</strong> ##### 计算外参数矩阵</p>
<p>由之前的推导，可得</p>
<div class="arithmatex">\[
\begin{cases}
&amp;\lambda = \frac{1}{s}=\frac{1}{\|A^{-1}h_1\|}=\frac{1}{\|A^{-1}h_2\|} \\
&amp;r_1 =\frac{1}{\lambda}K^{-1}h_1   \\
&amp;r_2 =\frac{1}{\lambda}K^{-1}h_2   \\
&amp;r_3 = r_1 \times r_2 \\
&amp;t=\lambda K^{-1}h_3
\end{cases}
\]</div>
<h5 id="_26">极大似然估计<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h5>
<p>上述的推导结果是基于理想情况下的解，但由于可能存在高斯噪声，所以使用最大似然估计进行优化。设我们采集了 <span class="arithmatex">\(n\)</span> 副包含棋盘格的图像进行定标，每个图像里有棋盘格角点 <span class="arithmatex">\(m\)</span> 个。令第 <span class="arithmatex">\(i\)</span> 副图像上的角点 <span class="arithmatex">\(M_{ij}\)</span> 在上述计算得到的摄像机矩阵下图像上的投影点为：</p>
<div class="arithmatex">\[
\hat{m}(K,R_i,t_i,M_{ij}) = K[R|t]M_{ij}
\]</div>
<p>其中 <span class="arithmatex">\(R_i\)</span> 和 <span class="arithmatex">\(t_i\)</span> 是第 <span class="arithmatex">\(i\)</span> 副图对应的旋转矩阵和平移向量，<span class="arithmatex">\(K\)</span> 是内参数矩阵。则角点 <span class="arithmatex">\(m_{ij}\)</span> 的概率密度函数为：</p>
<div class="arithmatex">\[
f(m_{ij})=\frac{1}{\sqrt{2\pi}}e^{\frac{-(\hat{m}(K,R_i,t_i,M_{ij})-m_{ij})^2}{\sigma^2}}
\]</div>
<p>构造似然函数：</p>
<div class="arithmatex">\[
L(A,R_i,t_i,M_{ij}) = \prod^{n,m}_{i=1,j=1}f(m_{ij})=\frac{1}{\sqrt{2\pi}}e^{\frac{-\sum^n_{i=1}\sum^m_{j=1}(\hat{m}(K,R_i,t_i,M_{ij})-m_{ij})^2}{\sigma^2}}
\]</div>
<p>让 <span class="arithmatex">\(L\)</span> 取得最大值，即让下面式子最小。这里使用的是多参数非线性系统优化问题的 <strong>Levenberg-Marquardt 算法</strong> 进行迭代求最优解。</p>
<div class="arithmatex">\[
\sum^n_{i=1}\sum^m_{j=1} \| \hat{m}(K,R_i,t_i,M_{ij})-m_{ij} \|^2
\]</div>
<h5 id="_27">径向畸变估计<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h5>
<p>张氏标定法只关注了影响最大的径向畸变，数学表达式为：</p>
<div class="arithmatex">\[
\hat u = u + (u-u_0)[k_1(x^2+y^2)+k_2(x^2+y^2)^2] \\
\hat v = v + (v-v_0)[k_1(x^2+y^2)+k_2(x^2+y^2)^2]
\]</div>
<p>其中，<span class="arithmatex">\((u,v)\)</span> 是理想无畸变的像素坐标，<span class="arithmatex">\((\hat{u},\hat{v})\)</span> 是实际畸变后的像素坐标。<span class="arithmatex">\((u_0,v_0)\)</span> 代表主点，<span class="arithmatex">\((x,y)\)</span> 是理想无畸变的连续图像坐标， <span class="arithmatex">\((\hat{x},\hat{y})\)</span> 是实际畸变后的连续图像坐标，<span class="arithmatex">\(k_1\)</span> 和 <span class="arithmatex">\(k_2\)</span> 为前两阶的畸变参数。由前一小节，<span class="arithmatex">\((\hat{u},\hat{v})\)</span> 可通过下式求出</p>
<div class="arithmatex">\[
\hat u = u_0 + \alpha \hat x + \gamma \hat y \\
\hat v = v_0 + \beta \hat y
\]</div>
<p>将径向畸变的数学表达式化成矩阵形式：</p>
<div class="arithmatex">\[
\left[
\begin{array}{cc}
(u-u_0)(x^2+y^2) &amp; (u-u_0)(x^2+y^2)^2 \\ 
(v-v_0)(x^2+y^2) &amp; (v-v_0)(x^2+y^2)^2
\end{array}
\right]
\left[
\begin{array}{c}
k_1 \\ k_2
\end{array}
\right]=
\left[
\begin{array}{c}
\hat u -u \\ \hat v -v
\end{array}
\right]
\]</div>
<p>记作</p>
<div class="arithmatex">\[
D\mathbf{k}=\mathbf{d}
\]</div>
<p>则可得</p>
<div class="arithmatex">\[
\mathbf{k}=[k_1\ k_2]^T = (D^TD)^{-1}D^T\mathbf{d}
\]</div>
<p>根据上式，计算得到畸变系数 <span class="arithmatex">\(k\)</span> 。</p>
<p>使用最大似然的思想优化得到的结果，即像上一步一样，使用LM法计算使下列函数值最小的参数值：</p>
<div class="arithmatex">\[
\sum^n_{i=1}\sum^m_{j=1} \| \hat{m}(K,k_1,k_2,R_i,t_i,M_{ij})-m_{ij} \|^2
\]</div>
<p>到此，张正友标定法介绍完毕。我们也得到了相机内参、外参和畸变系数。</p>
<h4 id="_28">双目相机的标定<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h4>
<p>对于双目视觉系统， <strong>不仅要对每个相机进行标定，同时还要明确相机间的相互关系，因此还要对双目相机进行进一步的标定，即求取相机间的旋转矩阵和平移向量。</strong> 首先，根据前面的方法得到每个相机的外参：</p>
<div class="arithmatex">\[
x_{left}=R_{left}X_w+t_{left} \\
x_{right}=R_{right}X_w+t_{right}
\]</div>
<p>又因为双目视觉系统的左右两个相机满足下列关系式：</p>
<div class="arithmatex">\[
x_{right}=R\cdot x_{left}+t
\]</div>
<p>可以推出：</p>
<div class="arithmatex">\[
R=R_{right}R_{left}^{-1} \\
t=r_{right}-R\cdot t_{left}
\]</div>
<p>根据上式即可计算得到左右相机间的旋转矩阵 <span class="arithmatex">\(R\)</span> 和 平移向量 <span class="arithmatex">\(t\)</span> 。即 <strong>只需要知道每个相机的外参数，就可以求得双目相机的旋转矩阵和平移向量。</strong> ------</p>
<h3 id="_29">图像匹配<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<p>前文讲到，对于左图的任一个点，沿着它在右图中水平极线方向寻找和它最匹配的像素点。但在实际进行像素点匹配的时候，情况往往更加复杂，比如：</p>
<ol>
<li>实际上要保证两个相机完全共面且参数一致是非常困难的，而且计算过程中也会产生误差累积，因此对于左图的一个点，其在右图的对应点不一定恰好在极线上，而是在极线附近，所以搜索范围需要适当放宽。</li>
<li>单个像素点进行比较鲁棒性很差，很容易受到光照变化和视角不同的影响。</li>
</ol>
<h4 id="1-2-3-4-p-q-q-p">立体匹配的基本约束条件 <strong>(1) 极线约束。</strong> 极线约束是最常用的约束条件。 <strong>极线约束是指在左图像中的一点，它在右图像上的 对应匹配点必定在某一条直线上，这条直线就是极线</strong> 。使用极线约束就可以让图像的搜索范围由二维下降至一维，只需要在一条直线上进行搜索，这就可以大大减少搜索的复杂度，并提高了匹配的精度。 <strong>(2) 相似性约束。</strong> 在进行立体匹配时，点、线、块等元素一定具有相同或相似的属性。 <strong>(3) 唯一性约束。</strong> 对于待匹配图像，在原图像中至多对应一个点。一幅图像上的每个点只能与另一幅 图像上的唯一一个点一一对应，这样 <strong>图像上的点至多有一个视差值</strong> 。 <strong>(4) 左右一致性约束。</strong> 若左图像上的一点 P，其在右图像上的对应点为 Q，则右图像上的点 Q 在左图像上的对应点应该是点 P，如果这两点不是一一对应的，则匹配会不满足唯一性条件，说明匹配失败。<a class="headerlink" href="#1-2-3-4-p-q-q-p" title="Permanent link">&para;</a></h4>
<p>在进行立体匹配时， <strong>运用基本约束条件对匹配结果进行检验，可以有效排除很多误匹配的点，减小搜索范围，降低立体匹配计算的复杂度，提高立体匹配的速度和精度， 获得最好的匹配效果。</strong> #### 基于滑动窗口的图像匹配</p>
<h4 id="_30">基于能量优化的图像匹配<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h4>
<h2 id="_31">参考文献<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h2>
<p><a href="https://blog.csdn.net/u010128736/article/details/52860364">张正友标定算法原理详解_Sylvester的博客-CSDN博客_张正友标定法原理</a></p>
<p><a href="https://zh.wikipedia.org/wiki/单应性">单应性 - 维基百科，自由的百科全书 (wikipedia.org)</a></p>
<p><a href="https://aijishu.com/a/1060000000139727">来聊聊双目视觉的基础知识（视察深度、标定、立体匹配） - 极术社区 - 连接开发者与智能计算生态 (aijishu.com)</a></p>
<p><a href="https://www.jiqizhixin.com/articles/2020-03-09-6">双目深度估计中的自监督学习概览 | 机器之心 (jiqizhixin.com)</a></p>
<p><a href="https://www.sohu.com/a/203027140_100007727">深度相机原理揭秘--双目立体视觉 (sohu.com)</a></p>
<p><a href="https://blog.csdn.net/FUZHENQI/article/details/80092605">双目立体视觉之深度估计_小小小富的博客-CSDN博客_双目深度估计</a></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../../../mathjax.js"></script>
        
      
        
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        
      
        
          <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
      
    
  </body>
</html>